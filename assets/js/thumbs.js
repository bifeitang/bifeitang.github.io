(function(t,i){"use strict";var s="fancybox-thumbs",e=s+"-active";i.fancybox.defaults=i.extend(true,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg>'+"</button>"},thumbs:{autoStart:false,hideOnClose:true,parentEl:".fancybox-container",axis:"y"}},i.fancybox.defaults);var n=function(t){this.init(t)};i.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:false,isActive:false,init:function(t){var i=this,s=t.group,e=0;i.instance=t;i.opts=s[t.currIndex].opts.thumbs;t.Thumbs=i;i.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var n=0,o=s.length;n<o;n++){if(s[n].thumb){e++}if(e>1){break}}if(e>1&&!!i.opts){i.$button.removeAttr("style").on("click",function(){i.toggle()});i.isActive=true}else{i.$button.hide()}},create:function(){var t=this,e=t.instance,n=t.opts.parentEl,o=[],a;if(!t.$grid){t.$grid=i('<div class="'+s+" "+s+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(n).addBack().filter(n));t.$grid.on("click","a",function(){e.jumpTo(i(this).attr("data-index"))})}if(!t.$list){t.$list=i('<div class="'+s+'__list">').appendTo(t.$grid)}i.each(e.group,function(t,i){a=i.thumb;if(!a&&i.type==="image"){a=i.src}o.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(a&&a.length?' style="background-image:url('+a+')"':'class="fancybox-thumbs-missing"')+"></a>")});t.$list[0].innerHTML=o.join("");if(t.opts.axis==="x"){t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(true))}},focus:function(t){var i=this,s=i.$list,n=i.$grid,o,a;if(!i.instance.current){return}o=s.children().removeClass(e).filter('[data-index="'+i.instance.current.index+'"]').addClass(e);a=o.position();if(i.opts.axis==="y"&&(a.top<0||a.top>s.height()-o.outerHeight())){s.stop().animate({scrollTop:s.scrollTop()+a.top},t)}else if(i.opts.axis==="x"&&(a.left<n.scrollLeft()||a.left>n.scrollLeft()+(n.width()-o.outerWidth()))){s.parent().stop().animate({scrollLeft:a.left},t)}},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible);if(t.isVisible){if(!t.$grid){t.create()}t.instance.trigger("onThumbsShow");t.focus(0)}else if(t.$grid){t.instance.trigger("onThumbsHide")}t.instance.update()},hide:function(){this.isVisible=false;this.update()},show:function(){this.isVisible=true;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});i(t).on({"onInit.fb":function(t,i){var s;if(i&&!i.Thumbs){s=new n(i);if(s.isActive&&s.opts.autoStart===true){s.show()}}},"beforeShow.fb":function(t,i,s,e){var n=i&&i.Thumbs;if(n&&n.isVisible){n.focus(e?0:250)}},"afterKeydown.fb":function(t,i,s,e,n){var o=i&&i.Thumbs;if(o&&o.isActive&&n===71){e.preventDefault();o.toggle()}},"beforeClose.fb":function(t,i){var s=i&&i.Thumbs;if(s&&s.isVisible&&s.opts.hideOnClose!==false){s.$grid.hide()}}})})(document,jQuery);